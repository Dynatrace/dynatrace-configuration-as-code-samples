{
  "importedWithCode": false,
  "layouts": {
    "0": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 4
    },
    "1": {
      "h": 4,
      "w": 4,
      "x": 0,
      "y": 4
    },
    "10": {
      "h": 4,
      "w": 4,
      "x": 0,
      "y": 12
    },
    "11": {
      "h": 6,
      "w": 4,
      "x": 20,
      "y": 4
    },
    "18": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 33
    },
    "2": {
      "h": 4,
      "w": 4,
      "x": 0,
      "y": 8
    },
    "20": {
      "h": 2,
      "w": 24,
      "x": 0,
      "y": 0
    },
    "24": {
      "h": 2,
      "w": 24,
      "x": 0,
      "y": 2
    },
    "25": {
      "h": 2,
      "w": 24,
      "x": 0,
      "y": 22
    },
    "3": {
      "h": 6,
      "w": 16,
      "x": 8,
      "y": 27
    },
    "30": {
      "h": 3,
      "w": 4,
      "x": 12,
      "y": 24
    },
    "32": {
      "h": 1,
      "w": 24,
      "x": 0,
      "y": 45
    },
    "33": {
      "h": 9,
      "w": 24,
      "x": 0,
      "y": 46
    },
    "34": {
      "h": 3,
      "w": 4,
      "x": 0,
      "y": 24
    },
    "35": {
      "h": 2,
      "w": 4,
      "x": 16,
      "y": 4
    },
    "36": {
      "h": 2,
      "w": 4,
      "x": 16,
      "y": 6
    },
    "37": {
      "h": 2,
      "w": 4,
      "x": 16,
      "y": 8
    },
    "38": {
      "h": 3,
      "w": 4,
      "x": 4,
      "y": 24
    },
    "39": {
      "h": 3,
      "w": 4,
      "x": 8,
      "y": 24
    },
    "4": {
      "h": 6,
      "w": 4,
      "x": 4,
      "y": 4
    },
    "42": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 27
    },
    "44": {
      "h": 6,
      "w": 16,
      "x": 8,
      "y": 33
    },
    "46": {
      "h": 6,
      "w": 24,
      "x": 0,
      "y": 39
    },
    "5": {
      "h": 6,
      "w": 12,
      "x": 4,
      "y": 10
    },
    "6": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 10
    },
    "7": {
      "h": 3,
      "w": 8,
      "x": 16,
      "y": 24
    },
    "8": {
      "h": 6,
      "w": 24,
      "x": 0,
      "y": 16
    }
  },
  "settings": {},
  "tiles": {
    "0": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| summarize count(), by: {cicd.pipeline.run.outcome}",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Pipeline Completion Status",
      "type": "data",
      "visualization": "pieChart",
      "visualizationSettings": {
        "chartSettings": {
          "categoricalBarChartSettings": {
            "categoryAxis": [
              "cicd.pipeline.run.outcome"
            ],
            "categoryAxisLabel": "cicd.pipeline.run.outcome",
            "valueAxis": [
              "count()"
            ],
            "valueAxisLabel": "count()"
          },
          "categoryOverrides": {
            "": {
              "added": 1726836121804,
              "color": "#805100"
            },
            "failure": {
              "added": 1726836109108,
              "color": {
                "Default": "var(--dt-colors-charts-categorical-themed-fireplace-color-01-default, #ae132d)"
              }
            },
            "success": {
              "added": 1726836111136,
              "color": "#2F6863"
            }
          },
          "circleChartSettings": {
            "groupingThresholdType": "relative",
            "valueType": "relative"
          },
          "legend": {
            "hidden": true
          },
          "truncationMode": "middle"
        },
        "thresholds": []
      }
    },
    "1": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| fields vcs.repository.url.full, cicd.pipeline.name, cicd.pipeline.run.trigger\n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| summarize count()",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Total Pipeline Executions",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "label": "Count",
          "labelMode": "none",
          "prefixIcon": "",
          "recordField": "count()",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": []
      }
    },
    "10": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| fields vcs.repository.url.full, cicd.pipeline.name, cicd.pipeline.run.trigger, duration\n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| summarize median(duration)",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Median Execution Time",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "label": "avg(duration)",
          "labelMode": "none",
          "prefixIcon": "",
          "recordField": "median(duration)",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": []
      }
    },
    "11": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| summarize count(), by: {cicd.pipeline.run.trigger}",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Pipeline triggers",
      "type": "data",
      "visualization": "pieChart",
      "visualizationSettings": {
        "chartSettings": {
          "categoricalBarChartSettings": {
            "categoryAxis": [
              "cicd.pipeline.run.trigger"
            ],
            "categoryAxisLabel": "cicd.pipeline.run.trigger",
            "valueAxis": [
              "count()"
            ],
            "valueAxisLabel": "count()"
          },
          "categoryOverrides": {
            "": {
              "added": 1726836121804,
              "color": {
                "Default": "var(--dt-colors-charts-categorical-color-11-default, #627cfe)"
              }
            },
            "failure": {
              "added": 1726836109108,
              "color": {
                "Default": "var(--dt-colors-charts-categorical-themed-fireplace-color-01-default, #ae132d)"
              }
            },
            "success": {
              "added": 1726836111136,
              "color": {
                "Default": "var(--dt-colors-charts-categorical-color-09-default, #649438)"
              }
            }
          },
          "circleChartSettings": {
            "groupingThresholdType": "relative",
            "valueType": "relative"
          },
          "truncationMode": "middle"
        },
        "thresholds": []
      }
    },
    "18": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(task.name, task.runner.name), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| summarize Count=count(), by:{tasks[task.runner.name]} \n| sort Count desc\n| limit 5",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "title": "Job Runners | Top 5",
      "type": "data",
      "visualization": "donutChart",
      "visualizationSettings": {
        "chartSettings": {
          "categoricalBarChartSettings": {
            "categoryAxis": [
              "tasks[task.runner.name]"
            ],
            "categoryAxisLabel": "tasks[task.runner.name]",
            "valueAxis": [
              "Count"
            ],
            "valueAxisLabel": "Count"
          },
          "categoryOverrides": {},
          "circleChartSettings": {
            "groupingThresholdType": "number-of-slices"
          },
          "legend": {
            "hidden": true
          },
          "truncationMode": "middle"
        },
        "thresholds": [],
        "unitsOverrides": [
          {
            "added": 1727680127964,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": false,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "2": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| fields vcs.repository.url.full, cicd.pipeline.name, cicd.pipeline.run.trigger, duration\n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| summarize avg(duration)",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Average Execution Time",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "label": "median(duration)",
          "labelMode": "none",
          "prefixIcon": "",
          "recordField": "avg(duration)",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": []
      }
    },
    "20": {
      "content": "### GitLab Pipeline Pulse\n\nThis dashboard offers a detailed overview of your GitLab pipeline executions, providing valuable insights into the performance and efficiency of your CI/CD pipelines.",
      "type": "markdown"
    },
    "24": {
      "content": "### Pipeline Details\n\nThis section provides a clear and detailed view of the current state of GitLab pipeline executions, enabling you to manage and improve them effectively. \n\n-----",
      "type": "markdown"
    },
    "25": {
      "content": "### Job Details\n\nThis section will give you a comprehensive view of the detailed performance and status of individual jobs within your GitLab pipelines, enabling you to monitor, analyze, and optimize your CI/CD processes effectively. \n\n-----",
      "type": "markdown"
    },
    "3": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(task.name, duration), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| summarize {\n  duration = percentile(tasks[duration], 50)\n}, by: { task.name = tasks[task.name] }\n| sort duration desc \n| limit 5",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "title": "Job Duration (p50) | Top 5",
      "type": "data",
      "visualization": "categoricalBarChart",
      "visualizationSettings": {
        "autoSelectVisualization": false,
        "chartSettings": {
          "categoricalBarChartSettings": {
            "categoryAxis": [
              "task.name"
            ],
            "categoryAxisLabel": "task.name",
            "valueAxis": [
              "duration"
            ],
            "valueAxisLabel": "duration"
          },
          "categoryOverrides": {},
          "legend": {
            "hidden": true
          },
          "truncationMode": "middle"
        },
        "thresholds": []
      }
    },
    "30": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(task.name,duration), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| summarize avg(tasks[duration])",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Average Job Duration",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "label": "median(duration)",
          "labelMode": "none",
          "prefixIcon": "",
          "recordField": "avg(tasks[duration])",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": []
      }
    },
    "32": {
      "content": " ",
      "type": "markdown"
    },
    "33": {
      "content": "#### Share feedback \nWe welcome your feedback on this dashboard to help us improve and deliver a more effective observability solution, ensuring it provides maximum value to your software development lifecycle and delivery processes. Please post a comment here: [Feedback channel for CI/CD Pipeline Observability](https://community.dynatrace.com/t5/Platform-Engineering/Feedback-channel-for-CI-CD-Pipeline-Observability/m-p/269193/highlight/true#M1) (Dynatrace Community).\n#\n---\n\n#### Additional resources\n**Pipeline Observability**\n* [Observability throughout the software development lifecycle increases delivery performance](https://www.dynatrace.com/news/blog/observability-throughout-the-software-development-lifecycle/) (Blog Post)\n* [Concepts](https://docs.dynatrace.com/docs/deliver/pipeline-observability-sdlc-events/pipeline-observability-concepts) (Docs)\n\n**Software Development Lifecycle Events**\n* [Ingest SDLC events](https://docs.dynatrace.com/docs/deliver/pipeline-observability-sdlc-events/sdlc-events) (Docs)\n* [SDLC event specification]() (Docs)\n#\n---\n\n#### About this dashboard\n\nPreview Release v0.3.1, [Origin](https://github.com/Dynatrace/dynatrace-configuration-as-code-samples)",
      "type": "markdown"
    },
    "34": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(task.name), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| summarize {\n  count() \n}",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Total Job Executions",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "label": "Count",
          "labelMode": "none",
          "prefixIcon": "",
          "recordField": "count()",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": []
      }
    },
    "35": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| fields vcs.repository.url.full, cicd.pipeline.name, cicd.pipeline.run.trigger, cicd.pipeline.run.outcome\n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| filter in(cicd.pipeline.name,$Pipeline)\n| summarize successful = countIf(cicd.pipeline.run.outcome == \"success\")",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Successful Executions",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "isIconVisible": true,
          "label": "failureRate",
          "labelMode": "none",
          "prefixIcon": "SuccessIcon",
          "recordField": "successful",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": [
          {
            "field": "successful",
            "id": 1,
            "isEnabled": true,
            "rules": [
              {
                "color": {
                  "Default": "var(--dt-colors-charts-status-ideal-default, #2f6863)"
                },
                "comparator": ">",
                "id": 0,
                "label": "",
                "value": 0
              }
            ],
            "title": ""
          }
        ],
        "unitsOverrides": [
          {
            "added": 1727678780356,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": true,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "36": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| fields vcs.repository.url.full, cicd.pipeline.name, cicd.pipeline.run.trigger, cicd.pipeline.run.outcome\n| filter in(vcs.repository.url.full, $Repository)\n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| summarize failed = countIf(cicd.pipeline.run.outcome == \"failure\")",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Failed Executions",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "isIconVisible": true,
          "label": "failureRate",
          "labelMode": "none",
          "prefixIcon": "CriticalFailedIcon",
          "recordField": "failed",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": [
          {
            "field": "failed",
            "id": 1,
            "isEnabled": true,
            "rules": [
              {
                "color": {
                  "Default": "var(--dt-colors-charts-status-critical-default, #c4233b)"
                },
                "comparator": "≥",
                "id": 2,
                "label": "",
                "value": 1
              }
            ],
            "title": ""
          }
        ],
        "unitsOverrides": [
          {
            "added": 1727678780356,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": true,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "37": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| fields vcs.repository.url.full, cicd.pipeline.name, cicd.pipeline.run.trigger, cicd.pipeline.run.outcome\n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| summarize other = countIf(isNull(cicd.pipeline.run.outcome) or (cicd.pipeline.run.outcome != \"failure\" and cicd.pipeline.run.outcome != \"success\"))",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Other Execution States",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "isIconVisible": true,
          "label": "failureRate",
          "labelMode": "none",
          "prefixIcon": "WarningIcon",
          "recordField": "other",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": [
          {
            "field": "other",
            "id": 1,
            "isEnabled": true,
            "rules": [
              {
                "color": {
                  "Default": "var(--dt-colors-charts-status-warning-default, #eca440)"
                },
                "comparator": "≥",
                "id": 1,
                "label": "",
                "value": 1
              }
            ],
            "title": ""
          }
        ],
        "unitsOverrides": [
          {
            "added": 1727678780356,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": true,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "38": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\" and task.outcome == \"success\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(task.name), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| summarize successful=count()",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Successful Job Executions",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "isIconVisible": true,
          "label": "failureRate",
          "labelMode": "none",
          "prefixIcon": "SuccessIcon",
          "recordField": "successful",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": [
          {
            "field": "successful",
            "id": 1,
            "isEnabled": true,
            "rules": [
              {
                "color": {
                  "Default": "var(--dt-colors-charts-status-ideal-default, #2f6863)"
                },
                "comparator": ">",
                "id": 0,
                "label": "",
                "value": 0
              }
            ],
            "title": ""
          }
        ],
        "unitsOverrides": [
          {
            "added": 1727678780356,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": true,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "39": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\" and task.outcome == \"failure\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(task.name), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| summarize failure=count()",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Failed Job Executions",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "isIconVisible": true,
          "label": "failureRate",
          "labelMode": "none",
          "prefixIcon": "SuccessIcon",
          "recordField": "failure",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": [
          {
            "field": "failure",
            "id": 1,
            "isEnabled": true,
            "rules": [
              {
                "color": {
                  "Default": "var(--dt-colors-charts-categorical-color-12-default, #cd3741)"
                },
                "comparator": "≥",
                "id": 0,
                "label": "",
                "value": 1
              }
            ],
            "title": ""
          }
        ],
        "unitsOverrides": [
          {
            "added": 1727678780356,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": true,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "4": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| fields vcs.repository.url.full, cicd.pipeline.name, cicd.pipeline.run.trigger, cicd.pipeline.run.outcome\n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| summarize failureRate = if(count() == 0, 0, else: toDouble(countIf(cicd.pipeline.run.outcome==\"failure\")) / toDouble(count())*100)",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "timeframe": {
        "tileTimeframe": {
          "from": "now()-7d",
          "to": "now()"
        },
        "tileTimeframeEnabled": false
      },
      "title": "Error Rate",
      "type": "data",
      "visualization": "singleValue",
      "visualizationSettings": {
        "singleValue": {
          "label": "failureRate",
          "labelMode": "none",
          "prefixIcon": "",
          "recordField": "failureRate",
          "trend": {
            "isVisible": true
          }
        },
        "thresholds": [
          {
            "field": "failureRate",
            "id": 1,
            "isEnabled": true,
            "rules": [
              {
                "color": {
                  "Default": "var(--dt-colors-charts-status-ideal-default, #2f6863)"
                },
                "comparator": "≤",
                "id": 0,
                "label": "",
                "value": 0
              },
              {
                "color": {
                  "Default": "var(--dt-colors-charts-status-warning-default, #eca440)"
                },
                "comparator": "≥",
                "id": 1,
                "label": ""
              },
              {
                "color": {
                  "Default": "var(--dt-colors-charts-status-critical-default, #c4233b)"
                },
                "comparator": "≥",
                "id": 2,
                "label": "",
                "value": 0
              }
            ],
            "title": ""
          }
        ],
        "unitsOverrides": [
          {
            "added": 1727678780356,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": true,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "42": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\" and task.outcome == \"failure\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(task.outcome.failure.reason), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| summarize {\n  count =  count() \n}, by: {task.failure = tasks[task.outcome.failure.reason] }\n| sort count desc \n| limit 5",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "title": "General reasons for job failure | Top 5",
      "type": "data",
      "visualization": "pieChart",
      "visualizationSettings": {
        "chartSettings": {
          "categoricalBarChartSettings": {
            "categoryAxis": [
              "task.failure"
            ],
            "categoryAxisLabel": "task.failure",
            "valueAxis": [
              "count"
            ],
            "valueAxisLabel": "count"
          },
          "categoryOverrides": {},
          "truncationMode": "middle"
        },
        "thresholds": [],
        "unitsOverrides": [
          {
            "added": 1727680127964,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": false,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "44": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(task.runner.name = if(task.runner.name==\"\",\"unknown\", else: task.runner.name ),task.queued.duration), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| summarize {\n   queued = percentile(tasks[task.queued.duration], 50)\n}, by: { runner.name=tasks[task.runner.name] }\n\n| sort queued desc \n| limit 5",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "title": "Queuing time for runners (p50)  | Top 5",
      "type": "data",
      "visualization": "categoricalBarChart",
      "visualizationSettings": {
        "autoSelectVisualization": false,
        "chartSettings": {
          "categoricalBarChartSettings": {
            "categoryAxis": [
              "runner.name"
            ],
            "categoryAxisLabel": "runner.name",
            "valueAxis": [
              "queued"
            ],
            "valueAxisLabel": "queued"
          },
          "categoryOverrides": {},
          "truncationMode": "middle"
        },
        "thresholds": [],
        "unitsOverrides": [
          {
            "added": 1727680127964,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": false,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "46": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(end_time,task.queued.duration), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| fieldsAdd queued = tasks[task.queued.duration],end_time = tasks[end_time]\n\n\n",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "title": " Job Queued Durations",
      "type": "data",
      "visualization": "areaChart",
      "visualizationSettings": {
        "autoSelectVisualization": false,
        "chartSettings": {
          "curve": "smooth",
          "fieldMapping": {
            "leftAxisValues": [
              "queued"
            ],
            "timestamp": "end_time"
          },
          "gapPolicy": "connect",
          "hiddenLegendFields": [
            "cicd.pipeline.run.id",
            "cicd.pipeline.run.attempt",
            "timeToStart",
            "queueTime",
            "has_matching_pipeline",
            "avg(task.queued.duration)",
            "task.queued.duration",
            "has_matching_runs",
            "queued"
          ],
          "leftYAxisSettings": {
            "isLabelVisible": true,
            "label": "queued"
          },
          "legend": {
            "hidden": true
          },
          "truncationMode": "middle",
          "xAxisLabel": "end_time",
          "xAxisScaling": "analyzedTimeframe"
        },
        "dataMapping": {
          "displayedFields": [
            "start_time",
            "cicd.pipeline.run.id",
            "cicd.pipeline.run.attempt",
            "timeToStart"
          ]
        },
        "thresholds": []
      }
    },
    "5": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| filter cicd.pipeline.run.outcome != \"canceled\" \n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| summarize percentile(duration,50), alias:Median ,by:{cicd.pipeline.name, alias: name} \n| sort Median desc \n| limit 5",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "title": "Pipeline Duration (p50) | Top 5",
      "type": "data",
      "visualization": "categoricalBarChart",
      "visualizationSettings": {
        "chartSettings": {
          "categoricalBarChartSettings": {
            "categoryAxis": [
              "name"
            ],
            "categoryAxisLabel": "name",
            "valueAxis": [
              "Median"
            ],
            "valueAxisLabel": "Median"
          },
          "categoryOverrides": {},
          "legend": {
            "hidden": true
          },
          "truncationMode": "middle"
        },
        "thresholds": []
      }
    },
    "6": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| filter in(cicd.pipeline.name,$Pipeline)\n| summarize failureRate = if(count() == 0, 0, else: toDouble(countIf(cicd.pipeline.run.outcome==\"failure\")) / toDouble(count())*100), by: {vcs.repository.name,cicd.pipeline.name }\n| filter failureRate>0 \n| sort  failureRate desc \n| limit 5",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "title": "Error-prune Pipelines | Top 5",
      "type": "data",
      "visualization": "pieChart",
      "visualizationSettings": {
        "chartSettings": {
          "categoricalBarChartSettings": {
            "categoryAxis": [
              "vcs.repository.name",
              "cicd.pipeline.name"
            ],
            "categoryAxisLabel": "vcs.repository.name,cicd.pipeline.name",
            "valueAxis": [
              "failureRate"
            ],
            "valueAxisLabel": "failureRate"
          },
          "categoryOverrides": {},
          "circleChartSettings": {
            "groupingThresholdType": "number-of-slices"
          },
          "truncationMode": "middle"
        },
        "thresholds": [],
        "unitsOverrides": [
          {
            "added": 1727680127964,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": false,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "7": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.provider == \"gitlab\"\n| filter (event.category == \"task\" and event.status == \"finished\") \n  or\n  ( event.category == \"pipeline\" and event.type == \"run\" and event.status == \"finished\" \n    and in(vcs.repository.url.full, $Repository) \n    and in(cicd.pipeline.name, $Pipeline) \n    and in(cicd.pipeline.run.trigger, $Trigger)\n  )\n| summarize { \n  tasks = arrayRemoveNulls(collectArray(if(event.category == \"task\", record(task.name, failure = if(task.outcome==\"failure\",1)), else: null))),\n  has_matching_runs = countif(event.category == \"pipeline\")\n}, by: { cicd.pipeline.run.id }\n| expand tasks\n| filterOut has_matching_runs == 0 \n| summarize {\n  failureRate = 100 * sum(tasks[failure]) / count() \n}, by: {task.name = tasks[task.name] }\n| filter failureRate > 0 \n| sort failureRate desc \n| limit 5",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "title": "Error-prone Jobs | Top 5",
      "type": "data",
      "visualization": "pieChart",
      "visualizationSettings": {
        "chartSettings": {
          "categoricalBarChartSettings": {
            "categoryAxis": [
              "task.name"
            ],
            "categoryAxisLabel": "task.name",
            "valueAxis": [
              "failureRate"
            ],
            "valueAxisLabel": "failureRate"
          },
          "categoryOverrides": {},
          "truncationMode": "middle"
        },
        "thresholds": [],
        "unitsOverrides": [
          {
            "added": 1727680127964,
            "baseUnit": "percent",
            "decimals": 0,
            "delimiter": false,
            "displayUnit": null,
            "identifier": "failureRate",
            "suffix": "",
            "unitCategory": "percentage"
          }
        ]
      }
    },
    "8": {
      "davis": {
        "davisVisualization": {
          "isAvailable": true
        },
        "enabled": false
      },
      "query": "fetch events \n| filter event.kind == \"SDLC_EVENT\" \n| filter event.category == \"pipeline\" \n| filter event.type == \"run\" \n| filter event.status == \"finished\" \n| filter event.provider == \"gitlab\" \n| filter in(vcs.repository.url.full, $Repository) \n| filter in(cicd.pipeline.name,$Pipeline)\n| filter in(cicd.pipeline.run.trigger, $Trigger)\n| fields \nDuration = duration,\nName = cicd.pipeline.name,\nStatus = cicd.pipeline.run.outcome,\nRun = cicd.pipeline.run.url.full,\nTrigger = cicd.pipeline.run.trigger,\nStart = start_time,\nEnd = end_time,\nRepository = vcs.repository.name \n| sort Duration desc \n",
      "querySettings": {
        "defaultSamplingRatio": 10,
        "defaultScanLimitGbytes": 500,
        "enableSampling": false,
        "maxResultMegaBytes": 1,
        "maxResultRecords": 1000
      },
      "title": "Pipeline Execution Details",
      "type": "data",
      "visualization": "table",
      "visualizationSettings": {
        "table": {
          "columnWidths": {
            "[\"Repository\"]": 273.09375,
            "[\"RunUrl\"]": 346.84375
          },
          "lineWrapIds": [
            [
              "RunUrl"
            ]
          ],
          "linewrapEnabled": true,
          "rowDensity": "comfortable"
        },
        "thresholds": []
      }
    }
  },
  "variables": [
    {
      "defaultValue": [],
      "input": "fetch events\n| filter event.category == \"pipeline\" and event.status == \"finished\" and event.provider==\"gitlab\" and event.type == \"run\"\n| summarize distinctRepositories = collectDistinct(vcs.repository.url.full)\n| expand distinctRepositories\n| sort distinctRepositories",
      "key": "Repository",
      "multiple": true,
      "type": "query",
      "version": 2,
      "visible": true
    },
    {
      "defaultValue": [],
      "input": "fetch events\n| filter event.category == \"pipeline\" and event.status == \"finished\" and event.provider==\"gitlab\" and event.type == \"run\"\n| filter in(vcs.repository.url.full, $Repository)\n| summarize distinctWorkflows = collectDistinct(cicd.pipeline.name)\n| expand distinctWorkflows\n| sort distinctWorkflows",
      "key": "Pipeline",
      "multiple": true,
      "type": "query",
      "version": 2,
      "visible": true
    },
    {
      "defaultValue": [],
      "input": "fetch events\n| filter event.category == \"pipeline\" and event.status == \"finished\" and event.provider==\"gitlab\" and event.type == \"run\"\n| summarize distinctTriggers = collectDistinct(cicd.pipeline.run.trigger)\n| expand distinctTriggers\n| sort distinctTriggers",
      "key": "Trigger",
      "multiple": true,
      "type": "query",
      "version": 2,
      "visible": true
    }
  ],
  "version": 20
}
